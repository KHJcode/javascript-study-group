# Method of primitive

## Primitive (원시 값) 이 뭐죠?

원시형 값

**객체**가 아니면서 **메서드**도 가지지 않는 데이터를 말합니다.

그럼 제목부터 모순 아닌가? 라는 의문을 가지고 뒤로...

#### 쉽게 말하면 자바스크립트 타입 중 하나

※ 자바스크립트의 타입에는 객체도 포함된다는 것을 주의.

원시형의 종류는 `string`, `number`, `bigint`, `boolean`, `symbol`, `null`, `undefined` 형으로 총 7가지입니다.

<br/>

모든 원시 값은 불변하여 변형할 수 없습니다.

그러나 원시 값을 할당한 변수, 객체, 배열, 함수는 변형할 수 있습니다.

<br/>

## Object (객체) 는 뭐죠?

아래 코드처럼 생긴 것.

```js
let john = {
  name: "John",
  say: function() {
    console.log("Hello, World!");
  }
};
```

속성에 다양한 종류의 값을 저장할 수 있습니다.

위 코드에서는 `name` 속성에 문자열을, `say` 에 함수 (메서드)를 저장한 것입니다.

객체는 원시 값보다 **무겁고**, 내부 구조를 유지하기 위해 추가 자원을 사용합니다.

<br/>

## 원시 값을 객체처럼 사용하기

#### 를 왜 합니까?

원시 값을 다루어야 하는 작업이 많은데 메서드를 사용하면 작업을 수월하게 할 수 있기 때문입니다.

그러나 원시 값은 빠르면서 가벼워야 합니다...!

#### 자바스크립트 제작자의 해결책

1. 원시 값은 그대로 남겨둬서 단일 값 형태를 유지.
2. 문자열, 숫자, 불린, 심볼의 메서드와 속성에 접근할 수 있도록 언어 차원에서 허용.
3. 이를 가능하게 하기 위해, 원시 값이 메서드나 속성에 접근하려 하면 추가 기능을 제공해주는 특수한 객체, **Object wrapper (원시 래퍼 객체)** 를 생성합니다. 그러나 이 객체는 바로 삭제됩니다.

#### 원시 래퍼 객체...?

모든 원시 값은 원시 값을 래핑한 객체를 갖습니다.

그리고 각 래퍼 객체는 원시 자료형의 이름을 그대로 차용합니다.

`String`, `Bigint`, `Number`, `Boolean`, `Symbol` 등.

※ `null`, `undefined` 는 없습니다.

참고로 래퍼 객체의 `valueOf` 메서드는 원시 값을 반환합니다.

<br/>

## 예제

메서드는 아래 과정으로 동작합니다.

```js
let str = "Hello";

console.log(str.toUpperCase()); // HELLO
```

1. 문자열 `str` 은 원시 값이므로 속성에 접근하는 순간 래퍼 객체를 생성합니다.
    이 객체는 문자열의 값을 알고 있고 `toUpperCase` 같은 유용한 메서드를 가지고 있습니다.
2. 메서드가 실행되고 새로운 문자열이 반환되며 출력됩니다.
3. 래퍼 객체는 삭제되고 원시 값만 남습니다.

#### 이점

이처럼 원시 값을 자연스럽게 유지하면서 메서드를 호출할 수 있습니다.

자바스크립트 엔진은 위 프로세스의 내부 최적화가 잘되어 있어, 원시 래퍼 객체를 만들지 않고도 마치 원시 래퍼 객체를 생성한 것처럼 동작하게끔 해줍니다.

<br/>

## 퀴즈

#### Q. 문자열에 속성을 추가할 수 있을까?

아래 코드를 실행하면 의도한대로 `5`가 출력될까요?

```js
let str = "Hello";
str.test = 5;

console.log(str.test);
```

#### A. 안됩니다.

엄격 모드에서는 에러가 발생하고 비 엄격 모드에서는 `undefined` 가 출력됩니다.

먼저 `str` 의 속성에 접근하려 하면 래퍼 객체가 생성됩니다.

- **엄격 모드:** 래퍼 객체를 수정하려 할 때 에러가 발생합니다.
- **비 엄격 모드:** `test` 속성이 추가되지만 래퍼 객체는 바로 삭제되기 때문에 실행하는 시점에서 속성을 찾을 수 없습니다.

▶ 원시 값은 추가 데이터를 저장할 수 없습니다.

<br/>

## 참고 문서

- https://developer.mozilla.org/ko/docs/Glossary/Primitive
- https://ko.javascript.info/primitives-methods
